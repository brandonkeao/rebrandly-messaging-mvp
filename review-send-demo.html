<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review & Send View Demo - Rebrandly Messaging</title>
    <!-- CSS -->
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/views.css">
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/color-system-v2.css">
    <link rel="stylesheet" href="css/website-color-system.css">
    <link rel="stylesheet" href="css/website-typography.css">
    <link rel="stylesheet" href="css/workflow-design-system.css">
    <link rel="stylesheet" href="css/buttons.css">
    <link rel="stylesheet" href="css/forms.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/app-overrides.css">
    <link rel="stylesheet" href="css/accessibility-fixes.css">
    <link rel="stylesheet" href="css/brand-customization.css">
    <link rel="stylesheet" href="css/getting-started-improvements.css">
    <link rel="stylesheet" href="css/header-alignment.css">
    <link rel="stylesheet" href="css/modal-system.css">
    <link rel="stylesheet" href="css/data-table-system.css">
    <link rel="stylesheet" href="css/links-view.css">
    <link rel="stylesheet" href="css/contact-avatars.css">
    <link rel="stylesheet" href="css/loading-error-states.css">
    <link rel="stylesheet" href="css/review-send-view.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container" style="padding: var(--space-lg);">
        <h1 class="hero-title">Review & Send View Demo</h1>
        <p class="hero-subtitle">Complete campaign review interface with summary, preview, and send options</p>

        <!-- Review & Send View -->
        <section class="section-website">
            <div class="review-send-container">
                <!-- Review Header -->
                <div class="view-header">
                    <div class="view-header-content">
                        <h1 class="view-title">ðŸ“‹ Review & Send Campaign</h1>
                        <p class="view-subtitle">Review your campaign details before sending to contacts</p>
                    </div>
                    <div class="view-header-actions">
                        <button class="btn-website-secondary" onclick="saveDraft()">
                            Save Draft
                        </button>
                        <button class="btn-website-primary" onclick="sendCampaign()" id="sendCampaignBtn">
                            Send Campaign
                        </button>
                    </div>
                </div>

                <!-- Campaign Summary Cards -->
                <div class="campaign-summary-grid">
                    <div class="summary-card">
                        <div class="summary-content">
                            <div class="summary-value" id="contactCount">4</div>
                            <div class="summary-label">Contacts Selected</div>
                            <div class="summary-detail">Ready to receive messages</div>
                        </div>
                        <button class="summary-action" onclick="editContacts()">Edit</button>
                    </div>

                    <div class="summary-card">
                        <div class="summary-content">
                            <div class="summary-value" id="linkCount">2</div>
                            <div class="summary-label">Links Included</div>
                            <div class="summary-detail">Branded short links</div>
                        </div>
                        <button class="summary-action" onclick="editLinks()">Edit</button>
                    </div>

                    <div class="summary-card">
                        <div class="summary-content">
                            <div class="summary-value" id="messageLength">142</div>
                            <div class="summary-label">Characters</div>
                            <div class="summary-detail">Message length</div>
                        </div>
                        <button class="summary-action" onclick="editMessage()">Edit</button>
                    </div>

                    <div class="summary-card">
                        <div class="summary-content">
                            <div class="summary-value" id="estimatedCost">$0.12</div>
                            <div class="summary-label">Estimated Cost</div>
                            <div class="summary-detail">Based on contact count</div>
                        </div>
                        <button class="summary-action" onclick="viewPricing()">Details</button>
                    </div>
                </div>

                <!-- Message Preview -->
                <div class="message-preview-section">
                    <h2 class="section-title">Message Preview</h2>
                    <div class="message-preview-container">
                        <div class="phone-mockup">
                            <div class="phone-screen">
                                <div class="message-bubble">
                                    <div class="message-content" id="previewMessage">
                                        Hi Sarah! ðŸ‘‹ Check out our new product demo at rbly.co/demo-2024 and see our pricing at rbly.co/pricing. Let me know what you think!
                                    </div>
                                    <div class="message-time">Now</div>
                                </div>
                            </div>
                        </div>
                        <div class="preview-details">
                            <h3>Message Details</h3>
                            <div class="detail-row">
                                <span class="detail-label">From:</span>
                                <span class="detail-value">Your Business Name</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Type:</span>
                                <span class="detail-value">SMS Text Message</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Delivery:</span>
                                <span class="detail-value">Immediate</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Variables:</span>
                                <span class="detail-value" id="variableCount">1 personalization variable</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact List Preview -->
                <div class="contact-list-section">
                    <h2 class="section-title">Selected Contacts</h2>
                    <div class="contact-list-preview">
                        <div class="contact-list-header">
                            <div class="contact-list-stats">
                                <span class="stat-item">
                                    <span class="stat-value" id="totalContacts">4</span>
                                    <span class="stat-label">Total</span>
                                </span>
                                <span class="stat-item">
                                    <span class="stat-value" id="validContacts">4</span>
                                    <span class="stat-label">Valid</span>
                                </span>
                                <span class="stat-item">
                                    <span class="stat-value" id="invalidContacts">0</span>
                                    <span class="stat-label">Invalid</span>
                                </span>
                            </div>
                            <button class="btn-website-secondary btn-sm" onclick="viewAllContacts()">View All</button>
                        </div>
                        <div class="contact-list-items" id="contactPreviewList">
                            <div class="contact-preview-item">
                                <div class="contact-avatar-small contact-avatar-primary">S</div>
                                <div class="contact-info">
                                    <div class="contact-name">Sarah Johnson</div>
                                    <div class="contact-details">TechCorp â€¢ +1 (555) 123-4567</div>
                                </div>
                                <div class="contact-status valid">âœ“</div>
                            </div>
                            <div class="contact-preview-item">
                                <div class="contact-avatar-small contact-avatar-info">M</div>
                                <div class="contact-info">
                                    <div class="contact-name">Mike Chen</div>
                                    <div class="contact-details">StartupXYZ â€¢ +1 (555) 234-5678</div>
                                </div>
                                <div class="contact-status valid">âœ“</div>
                            </div>
                            <div class="contact-preview-item">
                                <div class="contact-avatar-small contact-avatar-success">B</div>
                                <div class="contact-info">
                                    <div class="contact-name">Brandon Keao</div>
                                    <div class="contact-details">Tech Solutions â€¢ +1 (555) 345-6789</div>
                                </div>
                                <div class="contact-status valid">âœ“</div>
                            </div>
                            <div class="contact-preview-item">
                                <div class="contact-avatar-small contact-avatar-warning">A</div>
                                <div class="contact-info">
                                    <div class="contact-name">Alison Charles</div>
                                    <div class="contact-details">Marketing Inc â€¢ +1 (555) 456-7890</div>
                                </div>
                                <div class="contact-status valid">âœ“</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Send Options -->
                <div class="send-options-section">
                    <h2 class="section-title">Send Options</h2>
                    <div class="send-options-grid">
                        <div class="send-option-card">
                            <div class="option-header">
                                <input type="radio" name="sendOption" value="immediate" id="sendImmediate" checked>
                                <label for="sendImmediate" class="option-title">Send Immediately</label>
                            </div>
                            <p class="option-description">Send the campaign to all contacts right now</p>
                        </div>

                        <div class="send-option-card">
                            <div class="option-header">
                                <input type="radio" name="sendOption" value="scheduled" id="sendScheduled">
                                <label for="sendScheduled" class="option-title">Schedule for Later</label>
                            </div>
                            <p class="option-description">Choose a specific date and time to send</p>
                            <div class="schedule-inputs" id="scheduleInputs" style="display: none;">
                                <div class="input-group">
                                    <label for="scheduleDate">Date:</label>
                                    <input type="date" id="scheduleDate" class="form-input">
                                </div>
                                <div class="input-group">
                                    <label for="scheduleTime">Time:</label>
                                    <input type="time" id="scheduleTime" class="form-input">
                                </div>
                            </div>
                        </div>

                        <div class="send-option-card">
                            <div class="option-header">
                                <input type="radio" name="sendOption" value="test" id="sendTest">
                                <label for="sendTest" class="option-title">Send Test Message</label>
                            </div>
                            <p class="option-description">Send a test message to yourself first</p>
                            <div class="test-inputs" id="testInputs" style="display: none;">
                                <div class="input-group">
                                    <label for="testPhone">Your Phone Number:</label>
                                    <input type="tel" id="testPhone" class="form-input" placeholder="+1 (555) 123-4567">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pre-send Checklist -->
                <div class="checklist-section">
                    <h2 class="section-title">Pre-send Checklist</h2>
                    <div class="checklist-container">
                        <div class="checklist-item">
                            <input type="checkbox" id="check1" class="checklist-checkbox">
                            <label for="check1" class="checklist-label">
                                <span class="checklist-title">Message content reviewed</span>
                                <span class="checklist-description">Spelling, grammar, and links verified</span>
                            </label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check2" class="checklist-checkbox">
                            <label for="check2" class="checklist-label">
                                <span class="checklist-title">Contact list verified</span>
                                <span class="checklist-description">All phone numbers are valid and opted-in</span>
                            </label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check3" class="checklist-checkbox">
                            <label for="check3" class="checklist-label">
                                <span class="checklist-title">Compliance confirmed</span>
                                <span class="checklist-description">Message follows SMS marketing regulations</span>
                            </label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check4" class="checklist-checkbox">
                            <label for="check4" class="checklist-label">
                                <span class="checklist-title">Budget approved</span>
                                <span class="checklist-description">Campaign cost fits within budget</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Campaign Actions -->
                <div class="campaign-actions">
                    <div class="actions-left">
                        <button class="btn-website-secondary" onclick="goBack()">
                            Back to Compose
                        </button>
                        <button class="btn-website-secondary" onclick="saveDraft()">Save as Draft</button>
                    </div>
                    <div class="actions-right">
                        <button class="btn-website-blue" onclick="sendTestMessage()" id="testBtn" style="display: none;">Send Test</button>
                        <button class="btn-website-primary btn-disabled" onclick="confirmSend()" id="finalSendBtn">
                            Send Campaign
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Feature Highlights -->
        <section class="section-website-light">
            <div class="container">
                <h2 class="section-title">Review & Send View Features</h2>
                <div class="grid grid-cols-2 gap-lg">
                    <div class="card-website">
                        <h3 class="card-website-title">ðŸ“Š Campaign Summary</h3>
                        <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                            <li><strong>Summary Cards:</strong> Contact count, links, message length, cost</li>
                            <li><strong>Quick Edit:</strong> Edit buttons for each campaign component</li>
                            <li><strong>Real-time Updates:</strong> Dynamic calculations and validations</li>
                            <li><strong>Cost Estimation:</strong> Transparent pricing with detailed breakdown</li>
                        </ul>
                    </div>
                    
                    <div class="card-website">
                        <h3 class="card-website-title">ðŸ“± Message Preview</h3>
                        <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                            <li><strong>Phone Mockup:</strong> Realistic SMS preview with phone interface</li>
                            <li><strong>Variable Substitution:</strong> Shows personalized message content</li>
                            <li><strong>Message Details:</strong> Sender, type, delivery, and variable info</li>
                            <li><strong>Character Count:</strong> Message length validation and limits</li>
                        </ul>
                    </div>
                    
                    <div class="card-website">
                        <h3 class="card-website-title">ðŸ‘¥ Contact Management</h3>
                        <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                            <li><strong>Contact Preview:</strong> List of selected contacts with avatars</li>
                            <li><strong>Validation Status:</strong> Valid/invalid contact indicators</li>
                            <li><strong>Contact Stats:</strong> Total, valid, and invalid contact counts</li>
                            <li><strong>View All Modal:</strong> Complete contact list in expandable view</li>
                        </ul>
                    </div>
                    
                    <div class="card-website">
                        <h3 class="card-website-title">ðŸš€ Send Options</h3>
                        <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                            <li><strong>Send Immediately:</strong> Instant campaign delivery</li>
                            <li><strong>Schedule Later:</strong> Date and time picker for scheduling</li>
                            <li><strong>Test Message:</strong> Send test to your own phone first</li>
                            <li><strong>Pre-send Checklist:</strong> Compliance and quality verification</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Demo Controls -->
        <section class="section-website">
            <h2 class="section-title">Interactive Demo Controls</h2>
            <div class="card-website">
                <h3 class="card-website-title">Test Review & Send Features</h3>
                <div class="flex gap-sm flex-wrap" style="margin-bottom: var(--space-md);">
                    <button class="btn-website-primary" onclick="testSendFlow()">Test Send Flow</button>
                    <button class="btn-website-secondary" onclick="testScheduling()">Test Scheduling</button>
                    <button class="btn-website-blue" onclick="testTestMessage()">Test Message</button>
                    <button class="btn-website-secondary" onclick="checkAllItems()">Check All Items</button>
                </div>
                <div class="flex gap-sm flex-wrap">
                    <button class="btn-website-primary" onclick="viewPricing()">View Pricing</button>
                    <button class="btn-website-secondary" onclick="viewAllContacts()">View All Contacts</button>
                    <button class="btn-website-blue" onclick="saveDraft()">Save Draft</button>
                </div>
            </div>
        </section>

        <!-- Technical Implementation -->
        <section class="section-website-light">
            <div class="container">
                <h2 class="section-title">Technical Implementation</h2>
                <div class="card-website">
                    <h3 class="card-website-title">ReviewSendView Class Architecture</h3>
                    <div style="background: var(--color-neutral-100); padding: var(--space-md); border-radius: var(--radius-base); margin-bottom: var(--space-md); font-family: monospace; font-size: 14px;">
<pre style="margin: 0; color: var(--color-text-primary);">// Initialize Review & Send View
const reviewSendView = new ReviewSendView();

// Send campaign with validation
await reviewSendView.sendCampaign();

// Send test message
await reviewSendView.sendTestMessage();

// Update campaign data
reviewSendView.updateSummaryCards();
reviewSendView.updateMessagePreview();

// Handle send options
reviewSendView.handleSendOptionChange('scheduled');

// Validate before sending
const isValid = reviewSendView.validateSendOptions();</pre>
                    </div>
                    
                    <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Key Integration Features:</h4>
                    <div class="grid grid-cols-2 gap-md">
                        <div>
                            <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                                <li><strong>Loading States:</strong> Button loading and progress indicators</li>
                                <li><strong>Modal System:</strong> Send progress and success modals</li>
                                <li><strong>Form Validation:</strong> Real-time input validation</li>
                                <li><strong>Toast Notifications:</strong> Success and error feedback</li>
                            </ul>
                        </div>
                        <div>
                            <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                                <li><strong>Contact Avatars:</strong> Colored avatar system integration</li>
                                <li><strong>Progress Tracking:</strong> Real-time sending progress</li>
                                <li><strong>Error Handling:</strong> Comprehensive error states</li>
                                <li><strong>Responsive Design:</strong> Mobile-optimized interface</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- JavaScript -->
    <script src="js/modal-system.js"></script>
    <script src="js/loading-error-states.js"></script>
    <script src="js/review-send-view.js"></script>
    <script>
        // Demo-specific functions
        function testSendFlow() {
            // Check all checklist items first
            document.querySelectorAll('.checklist-checkbox').forEach(checkbox => {
                checkbox.checked = true;
                checkbox.dispatchEvent(new Event('change'));
            });
            
            setTimeout(() => {
                sendCampaign();
            }, 500);
        }

        function testScheduling() {
            document.getElementById('sendScheduled').checked = true;
            document.getElementById('sendScheduled').dispatchEvent(new Event('change'));
            
            // Set a future date and time
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('scheduleDate').value = tomorrow.toISOString().split('T')[0];
            document.getElementById('scheduleTime').value = '10:00';
        }

        function testTestMessage() {
            document.getElementById('sendTest').checked = true;
            document.getElementById('sendTest').dispatchEvent(new Event('change'));
            document.getElementById('testPhone').value = '+1 (555) 123-4567';
        }

        function checkAllItems() {
            document.querySelectorAll('.checklist-checkbox').forEach(checkbox => {
                checkbox.checked = true;
                checkbox.dispatchEvent(new Event('change'));
            });
        }

        // Initialize demo when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // ReviewSendView will be initialized automatically by the included script
        });
    </script>
</body>
</html>
