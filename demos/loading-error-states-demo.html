<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading & Error States Demo - Rebrandly Messaging</title>
    <!-- CSS -->
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/views.css">
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/color-system-v2.css">
    <link rel="stylesheet" href="css/website-color-system.css">
    <link rel="stylesheet" href="css/website-typography.css">
    <link rel="stylesheet" href="css/workflow-design-system.css">
    <link rel="stylesheet" href="css/buttons.css">
    <link rel="stylesheet" href="css/forms.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/app-overrides.css">
    <link rel="stylesheet" href="css/accessibility-fixes.css">
    <link rel="stylesheet" href="css/brand-customization.css">
    <link rel="stylesheet" href="css/getting-started-improvements.css">
    <link rel="stylesheet" href="css/header-alignment.css">
    <link rel="stylesheet" href="css/modal-system.css">
    <link rel="stylesheet" href="css/data-table-system.css">
    <link rel="stylesheet" href="css/links-view.css">
    <link rel="stylesheet" href="css/contact-avatars.css">
    <link rel="stylesheet" href="css/loading-error-states.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container" style="padding: var(--space-lg);">
        <h1 class="hero-title">Loading & Error States Demo</h1>
        <p class="hero-subtitle">Comprehensive loading indicators, error messages, and empty states</p>

        <!-- Loading Spinners -->
        <section class="section-website">
            <h2 class="section-title">Loading Spinners</h2>
            <div class="grid grid-cols-4 gap-lg">
                <div class="card-website">
                    <h3 class="card-website-title">Small Spinner</h3>
                    <div style="text-align: center; padding: var(--space-lg);">
                        <div class="loading-spinner loading-spinner-sm"></div>
                        <div class="loading-text">Loading...</div>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Medium Spinner</h3>
                    <div style="text-align: center; padding: var(--space-lg);">
                        <div class="loading-spinner"></div>
                        <div class="loading-text">Loading...</div>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Large Spinner</h3>
                    <div style="text-align: center; padding: var(--space-lg);">
                        <div class="loading-spinner loading-spinner-lg"></div>
                        <div class="loading-text">Loading...</div>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Extra Large Spinner</h3>
                    <div style="text-align: center; padding: var(--space-lg);">
                        <div class="loading-spinner loading-spinner-xl"></div>
                        <div class="loading-text">Loading...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Loading Overlays -->
        <section class="section-website-light">
            <div class="container">
                <h2 class="section-title">Loading Overlays</h2>
                <div class="grid grid-cols-2 gap-lg">
                    <div class="card-website" style="position: relative; height: 200px;">
                        <h3 class="card-website-title">Light Overlay</h3>
                        <p>Content behind the overlay...</p>
                        <div class="loading-overlay">
                            <div class="loading-spinner"></div>
                            <div class="loading-text">Processing...</div>
                        </div>
                    </div>
                    
                    <div class="card-website" style="position: relative; height: 200px;">
                        <h3 class="card-website-title">Dark Overlay</h3>
                        <p>Content behind the overlay...</p>
                        <div class="loading-overlay loading-overlay-dark">
                            <div class="loading-spinner"></div>
                            <div class="loading-text">Processing...</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skeleton Loading -->
        <section class="section-website">
            <h2 class="section-title">Skeleton Loading</h2>
            <div class="grid grid-cols-2 gap-lg">
                <div class="card-website">
                    <h3 class="card-website-title">Contact List Skeleton</h3>
                    <div class="skeleton-card">
                        <div class="skeleton skeleton-title"></div>
                        <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                            <div class="skeleton skeleton-avatar"></div>
                            <div style="flex: 1;">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                            <div class="skeleton skeleton-avatar"></div>
                            <div style="flex: 1;">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: var(--space-sm);">
                            <div class="skeleton skeleton-avatar"></div>
                            <div style="flex: 1;">
                                <div class="skeleton skeleton-text"></div>
                                <div class="skeleton skeleton-text-sm" style="width: 80%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Article Skeleton</h3>
                    <div class="skeleton-card">
                        <div class="skeleton skeleton-title"></div>
                        <div class="skeleton skeleton-paragraph"></div>
                        <div class="skeleton skeleton-paragraph"></div>
                        <div class="skeleton skeleton-paragraph"></div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-md);">
                            <div class="skeleton skeleton-button"></div>
                            <div class="skeleton skeleton-button"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Progress Bars -->
        <section class="section-website-light">
            <div class="container">
                <h2 class="section-title">Progress Bars</h2>
                <div class="grid grid-cols-2 gap-lg">
                    <div class="card-website">
                        <h3 class="card-website-title">Determinate Progress</h3>
                        <div class="progress-container">
                            <div class="progress-label">
                                <span>Upload Progress</span>
                                <span class="progress-percentage">65%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%;"></div>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-label">
                                <span>Processing</span>
                                <span class="progress-percentage">30%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill progress-fill-warning" style="width: 30%;"></div>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-label">
                                <span>Complete</span>
                                <span class="progress-percentage">100%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill progress-fill-success" style="width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-website">
                        <h3 class="card-website-title">Indeterminate Progress</h3>
                        <div class="progress-container">
                            <div class="progress-label">
                                <span>Loading data...</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill progress-indeterminate"></div>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-label">
                                <span>Syncing...</span>
                            </div>
                            <div class="progress-bar progress-bar-sm">
                                <div class="progress-fill progress-fill-warning progress-indeterminate"></div>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-label">
                                <span>Processing...</span>
                            </div>
                            <div class="progress-bar progress-bar-lg">
                                <div class="progress-fill progress-fill-error progress-indeterminate"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Error States -->
        <section class="section-website">
            <h2 class="section-title">Error States</h2>
            <div class="grid grid-cols-2 gap-lg">
                <div class="card-website">
                    <h3 class="card-website-title">General Error</h3>
                    <div class="error-container">
                        <div class="error-icon">⚠️</div>
                        <h3 class="error-title">Something went wrong</h3>
                        <p class="error-message">We encountered an unexpected error. Please try again later.</p>
                        <div class="error-actions">
                            <button class="btn-website-primary">Try Again</button>
                            <button class="btn-website-secondary">Go Back</button>
                        </div>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Network Error</h3>
                    <div class="error-container error-network">
                        <div class="error-icon">📡</div>
                        <h3 class="error-title">Connection Problem</h3>
                        <p class="error-message">Unable to connect to the server. Please check your internet connection.</p>
                        <div class="error-actions">
                            <button class="btn-website-primary">Retry</button>
                            <button class="btn-website-secondary">Work Offline</button>
                        </div>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">404 Error</h3>
                    <div class="error-container error-404">
                        <div class="error-icon">🔍</div>
                        <h3 class="error-title">Page Not Found</h3>
                        <p class="error-message">The page you're looking for doesn't exist or has been moved.</p>
                        <div class="error-actions">
                            <button class="btn-website-primary">Go Home</button>
                            <button class="btn-website-secondary">Search</button>
                        </div>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Permission Error</h3>
                    <div class="error-container error-permission">
                        <div class="error-icon">🔒</div>
                        <h3 class="error-title">Access Denied</h3>
                        <p class="error-message">You don't have permission to access this resource.</p>
                        <div class="error-actions">
                            <button class="btn-website-primary">Request Access</button>
                            <button class="btn-website-secondary">Go Back</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Empty States -->
        <section class="section-website-light">
            <div class="container">
                <h2 class="section-title">Empty States</h2>
                <div class="grid grid-cols-2 gap-lg">
                    <div class="card-website">
                        <h3 class="card-website-title">No Contacts</h3>
                        <div class="empty-state">
                            <div class="empty-state-icon">👥</div>
                            <h3 class="empty-state-title">No contacts yet</h3>
                            <p class="empty-state-message">Start building your contact list by adding your first contact or importing from a CSV file.</p>
                            <div class="empty-state-actions">
                                <button class="btn-website-primary">Add Contact</button>
                                <button class="btn-website-secondary">Import CSV</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-website">
                        <h3 class="card-website-title">No Links</h3>
                        <div class="empty-state">
                            <div class="empty-state-icon">🔗</div>
                            <h3 class="empty-state-title">No links created</h3>
                            <p class="empty-state-message">Create your first branded short link to start tracking clicks and engagement.</p>
                            <div class="empty-state-actions">
                                <button class="btn-website-primary">Create Link</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-website">
                        <h3 class="card-website-title">No Campaigns</h3>
                        <div class="empty-state">
                            <div class="empty-state-icon">📨</div>
                            <h3 class="empty-state-title">No campaigns sent</h3>
                            <p class="empty-state-message">Launch your first messaging campaign to reach your contacts with personalized messages.</p>
                            <div class="empty-state-actions">
                                <button class="btn-website-primary">Start Campaign</button>
                                <button class="btn-website-secondary">View Templates</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-website">
                        <h3 class="card-website-title">Search Results</h3>
                        <div class="empty-state">
                            <div class="empty-state-icon">🔍</div>
                            <h3 class="empty-state-title">No results found</h3>
                            <p class="empty-state-message">Try adjusting your search terms or filters to find what you're looking for.</p>
                            <div class="empty-state-actions">
                                <button class="btn-website-primary">Clear Filters</button>
                                <button class="btn-website-secondary">Browse All</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Demos -->
        <section class="section-website">
            <h2 class="section-title">Interactive Demos</h2>
            <div class="grid grid-cols-2 gap-lg">
                <div class="card-website">
                    <h3 class="card-website-title">Loading States Demo</h3>
                    <div id="loadingDemo" style="min-height: 200px; border: 2px dashed var(--color-border); border-radius: var(--radius-base); padding: var(--space-md); margin-bottom: var(--space-md);">
                        <p>Click buttons below to test different loading states</p>
                    </div>
                    <div class="flex gap-sm flex-wrap">
                        <button class="btn-website-primary" onclick="testSpinner()">Show Spinner</button>
                        <button class="btn-website-secondary" onclick="testOverlay()">Show Overlay</button>
                        <button class="btn-website-blue" onclick="testSkeleton()">Show Skeleton</button>
                        <button class="btn-website-secondary" onclick="clearDemo()">Clear</button>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Button Loading States</h3>
                    <div style="margin-bottom: var(--space-md);">
                        <p>Test loading states on buttons:</p>
                    </div>
                    <div class="flex gap-sm flex-wrap">
                        <button class="btn-website-primary" id="testBtn1" onclick="testButtonLoading(this)">Primary Button</button>
                        <button class="btn-website-secondary" id="testBtn2" onclick="testButtonLoading(this)">Secondary Button</button>
                        <button class="btn-website-blue" id="testBtn3" onclick="testButtonLoading(this)">Blue Button</button>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Progress Bar Demo</h3>
                    <div id="progressDemo" style="margin-bottom: var(--space-md);">
                        <!-- Progress bars will be added here -->
                    </div>
                    <div class="flex gap-sm flex-wrap">
                        <button class="btn-website-primary" onclick="testProgress()">Start Progress</button>
                        <button class="btn-website-secondary" onclick="testIndeterminate()">Indeterminate</button>
                        <button class="btn-website-secondary" onclick="clearProgress()">Clear</button>
                    </div>
                </div>
                
                <div class="card-website">
                    <h3 class="card-website-title">Error & Empty States</h3>
                    <div id="statesDemo" style="min-height: 200px; border: 2px dashed var(--color-border); border-radius: var(--radius-base); padding: var(--space-md); margin-bottom: var(--space-md);">
                        <p>Click buttons below to test different states</p>
                    </div>
                    <div class="flex gap-sm flex-wrap">
                        <button class="btn-website-primary" onclick="testError()">Show Error</button>
                        <button class="btn-website-secondary" onclick="testEmpty()">Show Empty</button>
                        <button class="btn-website-blue" onclick="testNetwork()">Network Error</button>
                        <button class="btn-website-secondary" onclick="clearStates()">Clear</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Implementation -->
        <section class="section-website-light">
            <div class="container">
                <h2 class="section-title">Technical Implementation</h2>
                <div class="card-website">
                    <h3 class="card-website-title">LoadingErrorStates Class Usage</h3>
                    <div style="background: var(--color-neutral-100); padding: var(--space-md); border-radius: var(--radius-base); margin-bottom: var(--space-md); font-family: monospace; font-size: 14px;">
<pre style="margin: 0; color: var(--color-text-primary);">// Show loading spinner
const loaderId = showLoading('#container', {
  type: 'spinner',
  size: 'lg',
  text: 'Loading data...'
});

// Show loading overlay
showLoading('#container', {
  type: 'overlay',
  text: 'Processing...',
  dark: true
});

// Show skeleton loading
showLoading('#container', {
  type: 'skeleton',
  rows: 3,
  avatar: true,
  title: true
});

// Hide loading
hideLoading('#container', loaderId);

// Show error state
showError('#container', {
  type: 'network',
  title: 'Connection Failed',
  message: 'Please check your internet connection.',
  actions: [
    { label: 'Retry', type: 'primary', onClick: retryFunction },
    { label: 'Cancel', type: 'secondary', onClick: cancelFunction }
  ]
});

// Show empty state
showEmptyState('#container', {
  icon: '📋',
  title: 'No data available',
  message: 'Start by adding your first item.',
  actions: [
    { label: 'Add Item', type: 'primary', onClick: addFunction }
  ]
});

// Button loading state
setButtonLoading('#submitBtn', true);

// Progress bar
const progress = createProgressBar('#container', {
  value: 50,
  max: 100,
  label: 'Upload Progress',
  color: 'success'
});

// Update progress
progress.update(75);</pre>
                    </div>
                    
                    <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Key Features:</h4>
                    <div class="grid grid-cols-2 gap-md">
                        <div>
                            <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                                <li>Multiple loading types (spinner, overlay, skeleton)</li>
                                <li>Configurable sizes and colors</li>
                                <li>Progress bars with determinate/indeterminate modes</li>
                                <li>Error states with custom actions</li>
                                <li>Empty states with call-to-action buttons</li>
                                <li>Button loading states with disabled interaction</li>
                            </ul>
                        </div>
                        <div>
                            <ul style="list-style: disc; margin-left: 20px; font-size: 14px; color: var(--color-text-secondary); line-height: 1.6;">
                                <li>Network status indicators</li>
                                <li>Async operation helpers</li>
                                <li>ARIA accessibility attributes</li>
                                <li>High contrast mode support</li>
                                <li>Reduced motion preferences</li>
                                <li>Responsive design for mobile</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- JavaScript -->
    <script src="js/loading-error-states.js"></script>
    <script>
        // Demo functions
        function testSpinner() {
            showLoading('#loadingDemo', {
                type: 'spinner',
                size: 'lg',
                text: 'Loading data...'
            });
        }

        function testOverlay() {
            const demo = document.getElementById('loadingDemo');
            demo.innerHTML = '<p>Content behind overlay...</p><p>More content here...</p>';
            demo.style.position = 'relative';
            
            showLoading('#loadingDemo', {
                type: 'overlay',
                text: 'Processing...',
                dark: false
            });
        }

        function testSkeleton() {
            showLoading('#loadingDemo', {
                type: 'skeleton',
                rows: 3,
                avatar: true,
                title: true
            });
        }

        function clearDemo() {
            const demo = document.getElementById('loadingDemo');
            demo.innerHTML = '<p>Click buttons below to test different loading states</p>';
            demo.style.position = 'static';
        }

        function testButtonLoading(button) {
            setButtonLoading(button, true);
            
            setTimeout(() => {
                setButtonLoading(button, false);
            }, 3000);
        }

        let currentProgress = null;

        function testProgress() {
            clearProgress();
            
            currentProgress = createProgressBar('#progressDemo', {
                value: 0,
                max: 100,
                label: 'Upload Progress',
                color: 'primary',
                showPercentage: true
            });
            
            let value = 0;
            const interval = setInterval(() => {
                value += Math.random() * 15;
                if (value >= 100) {
                    value = 100;
                    clearInterval(interval);
                }
                currentProgress.update(value);
            }, 200);
        }

        function testIndeterminate() {
            clearProgress();
            
            createProgressBar('#progressDemo', {
                indeterminate: true,
                label: 'Processing...',
                color: 'warning'
            });
        }

        function clearProgress() {
            document.getElementById('progressDemo').innerHTML = '';
        }

        function testError() {
            showError('#statesDemo', {
                type: 'general',
                title: 'Operation Failed',
                message: 'Something went wrong while processing your request.',
                actions: [
                    { label: 'Try Again', type: 'primary', onClick: () => clearStates() },
                    { label: 'Cancel', type: 'secondary', onClick: () => clearStates() }
                ]
            });
        }

        function testEmpty() {
            showEmptyState('#statesDemo', {
                icon: '📋',
                title: 'No items found',
                message: 'Get started by creating your first item.',
                actions: [
                    { label: 'Create Item', type: 'primary', onClick: () => clearStates() },
                    { label: 'Import', type: 'secondary', onClick: () => clearStates() }
                ]
            });
        }

        function testNetwork() {
            showError('#statesDemo', {
                type: 'network',
                title: 'Connection Problem',
                message: 'Unable to connect to the server. Please check your internet connection.',
                actions: [
                    { label: 'Retry', type: 'primary', onClick: () => clearStates() },
                    { label: 'Work Offline', type: 'secondary', onClick: () => clearStates() }
                ]
            });
        }

        function clearStates() {
            const demo = document.getElementById('statesDemo');
            demo.innerHTML = '<p>Click buttons below to test different states</p>';
        }

        // Test network status (for demo purposes)
        setTimeout(() => {
            window.LoadingErrorStates.updateNetworkStatus('online', 'Connection restored');
        }, 2000);
    </script>
</body>
</html>
